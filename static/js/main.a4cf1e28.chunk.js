(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{29:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(8),i=c.n(r),s=(c(29),c(24)),o=c(4),u=c(3),j=c(10),h=Object(j.b)({name:"city",initialState:{value:"Kyiv"},reducers:{changeCity:function(e,t){console.log({action:t}),e.value=t.payload}}}),l=h.actions.changeCity,d=function(e){return e.city.value},b=h.reducer,f=(c(36),c(1));function O(e){var t=e.isLoading,c=e.onSearch,n=Object(u.c)(d),a=Object(u.b)(),r=t?"Loading...":"Search";return Object(f.jsxs)("div",{className:"Search",children:[Object(f.jsx)("input",{className:"Search__input",type:"text",placeholder:"Location",name:"search",value:n,onChange:function(e){return a(l(e.target.value))},onKeyDown:function(e){"Enter"===e.key&&c()}}),Object(f.jsx)("button",{className:"Search__button",disabled:t,onClick:function(){return c()},children:r})]})}c(38);function m(e){var t=e.currentWeather,c=t.weather[0],n=Math.round(t.main.temp),a=n>=0?"+":"";return Object(f.jsx)("div",{className:"Current",children:Object(f.jsxs)("div",{className:"Current__info",children:[Object(f.jsx)("img",{className:"Current__weather-icon",src:"https://openweathermap.org/img/wn/"+c.icon+".png",alt:c.main}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{className:"other-info__city",children:[t.name," (Today)"]}),Object(f.jsxs)("h3",{className:"other-info__city",children:[a,n," \xb0C"]})]})]})})}c(39);function p(e){var t=e.requestsHistory,c=e.historyLimit,n=e.onChangeCity;return Object(f.jsxs)("div",{className:"RequestsHistory",children:[Object(f.jsxs)("h2",{className:"RequestsHistory__title",children:["Last ",c," queries"]}),Object(f.jsx)("div",{className:"RequestsHistory__queries",children:t.map((function(e,t){return Object(f.jsx)("span",{className:"RequestsHistory__queries item",onClick:function(){return n(e)},children:e},t)}))})]})}var v=c(22);c(40);function y(e){var t=e.dayWeather,c=t.weather[0],n=Math.round(t.main.temp),a=n>=0?"+":"",r=v(t.dt_txt).format("dddd");return Object(f.jsxs)("div",{className:"ForecastDay",children:[Object(f.jsx)("div",{className:"ForecastDay__title",children:r}),Object(f.jsxs)("div",{className:"ForecastDay__header",children:[Object(f.jsx)("img",{className:"ForecastDay__weather-icon",src:"https://openweathermap.org/img/wn/"+c.icon+".png",alt:c.main}),Object(f.jsxs)("span",{children:[a,n,"\xb0C"]})]})]})}c(41);function x(e){var t=e.forecast;return Object(f.jsx)("div",{className:"Forecast",children:t.map((function(e){return Object(f.jsx)(y,{dayWeather:e},e.dt)}))})}var _=c(23),g=c.n(_).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),N="&units=metric&appid=".concat("ac50c00be361ae51a28bda0f97697967");c(60);var w=function(){var e=Object(u.c)(d),t=Object(u.b)(),c=Object(n.useState)(),a=Object(o.a)(c,2),r=a[0],i=a[1],j=Object(n.useState)(!0),h=Object(o.a)(j,2),b=h[0],v=h[1],y=Object(n.useState)([]),_=Object(o.a)(y,2),w=_[0],C=_[1],S=Object(n.useState)(!0),q=Object(o.a)(S,2),L=q[0],H=q[1],k=Object(n.useState)([]),D=Object(o.a)(k,2),F=D[0],R=D[1],K=function(c){(c=c||e)!==e&&t(l(c)),R((function(e){var t=[c].concat(Object(s.a)(e));return t.length<=10?t:t.slice(0,10)})),v(!0),H(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Kyiv";return g.get("/weather?q=".concat(e).concat(N)).then((function(e){return e.data}))}(c).then(i).finally((function(){return v(!1)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Kyiv";return g.get("/forecast?q=".concat(e).concat(N)).then((function(e){var t=e.data;return{city:t.city,forecast:t.list.filter((function(e){return e.dt_txt.includes("12:00:00")}))}}))}(c).then((function(e){C(e.forecast)})).finally((function(){return H(!1)}))};return Object(n.useEffect)((function(){K()}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"App__container",children:[Object(f.jsx)(O,{onSearch:K,isLoading:b||L}),r&&Object(f.jsx)(m,{currentWeather:r}),Object(f.jsx)(p,{requestsHistory:F,historyLimit:10,onChangeCity:K}),w&&Object(f.jsx)(x,{forecast:w})]})})},C=Object(j.a)({reducer:{city:b}});i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(u.a,{store:C,children:Object(f.jsx)(w,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.a4cf1e28.chunk.js.map